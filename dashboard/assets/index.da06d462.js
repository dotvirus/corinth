import{d as e,r as t,o as l,h as s,c as a,a as n,w as o,t as r,b as u,e as i,f as d,g as c,D as p,F as m,i as f,T as g,j as x,v as b,k as v,l as y,m as w,n as h,p as k,q,s as _}from"./vendor.df6dc309.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const s=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,n)=>{const o=new URL(e,s);if(self[t].moduleMap[o])return l(self[t].moduleMap[o]);const r=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){n(new Error(`Failed to import: ${e}`)),a(u)},onload(){l(self[t].moduleMap[o]),a(u)}});document.head.appendChild(u)})),self[t].moduleMap={}}}("/dashboard/assets/");var C=e({name:"App",setup(){const e=t(""),a=t(!0);return l((async()=>{const e=await s("/").send();console.log(e)})),{version:e,dialog:a}}});const D={class:"h-full app"},U={class:"fixed w-full shadow-md p-3 flex justify-center align-center",id:"header"},j={class:"font-bold mr-2"},Q=u("Corinth"),N={class:"text-medium text-opacity-60"},V=u("Queues"),$={class:"px-3 pt-16",id:"content"},L={class:"mx-auto max-w-screen-lg"},R=n("div",{id:"dialog-target",class:"fixed"},null,-1),M={class:"p-3 bg-gray-200 text-center mt-auto text-gray-600 text-md"},P=u(" Corinth version: "),H={class:"font-semibold"},z=n("div",null,[u("Dashboard version: "),n("span",{class:"font-semibold"},"0.0.1")],-1);C.render=function(e,t,l,s,u,c){const p=i("router-link"),m=i("router-view");return d(),a("div",D,[n("div",U,[n("div",j,[n(p,{to:"/"},{default:o((()=>[Q])),_:1})]),n("div",N,[n(p,{to:"/queues"},{default:o((()=>[V])),_:1})])]),n("div",$,[n("div",L,[n(m)])]),R,n("footer",M,[n("div",null,[P,n("span",H,r(e.version),1)]),z])])};var O=e({name:"Home",components:{}});O.render=function(e,t,l,s,n,o){return d(),a("div",null,"Home")};var S=e({name:"Queues",setup(){const e=t([]),l=t(!1),s=t(""),a=t(!0);t(300),t(300),t(0);const n=c((()=>p(s.value)));return{queues:e,tableHeaders:[{title:"Name"},{title:"Creation date"},{title:"Size"},{title:"In flight",tooltip:"Unacknowledged messages"},{title:"Successful",tooltip:"Acknowledged ('ack') messages"},{title:"Memory size"},{title:"Persistent"}],createDialog:l,queueName:s,queuePersistent:a,slug:n,createQueue:async function(){}}}});const F={class:"min-w-max w-full table-auto shadow"},A={class:"\r\n            bg-gray-200\r\n            text-gray-600\r\n            uppercase\r\n            text-sm\r\n            leading-normal\r\n            font-semibold\r\n          "},B={class:"text-gray-600 text-sm"},E={class:"border-b border-gray-200 hover:bg-gray-200"},I={class:"py-3 px-1 text-left whitespace-nowrap font-semibold"},J={class:"hover:text-blue-600"},T={class:"py-3 px-1 text-left whitespace-nowrap"},W={class:"py-3 px-1 text-left whitespace-nowrap"},Y={class:"py-3 px-1 text-left whitespace-nowrap"},G={class:"py-3 px-1 text-left whitespace-nowrap"},K={class:"py-3 px-1 text-left whitespace-nowrap"},X={class:"py-3 px-1 text-left whitespace-nowrap"},Z=u("Create queue"),ee=n("div",{style:{"flex-grow":"1"}},null,-1),te=n("div",{style:{"flex-grow":"1"}},null,-1),le=u(" Will be created as "),se=n("div",{class:"inline-block ml-2 font-semibold text-sm opacity-80"}," Persistent ",-1);S.render=function(e,t,l,s,u,c){const p=i("router-link"),y=i("c-dialog");return d(),a("div",null,[n("table",F,[n("thead",null,[n("tr",A,[(d(!0),a(m,null,f(e.tableHeaders,(e=>(d(),a("td",{class:["py-3 px-1 text-left",{tooltip:!!e.tooltip}],key:e.title,title:e.tooltip},r(e.title),11,["title"])))),128))])]),n("tbody",B,[n("tr",E,[n("td",{onClick:t[1]||(t[1]=t=>e.createDialog=!0),colspan:7,class:"\r\n              py-3\r\n              px-1\r\n              text-left\r\n              whitespace-nowrap\r\n              font-semibold\r\n              cursor-pointer\r\n            "}," + Create new queue ")]),(d(!0),a(m,null,f(e.queues,(e=>(d(),a("tr",{class:"border-b border-gray-200",key:e.name},[n("td",I,[n(p,{to:`/queue/${e.name}`},{default:o((()=>[n("span",J,r(e.name),1)])),_:2},1032,["to"])]),n("td",T,r(new Date(1e3*e.created_at).toLocaleString()),1),n("td",W,r(e.size),1),n("td",Y,r(e.num_unacknowledged),1),n("td",G,r(e.num_acknowledged),1),n("td",K,r(e.memory_size)+" bytes ",1),n("td",X,r(e.persistent?"Yes":"No"),1)])))),128))])]),(d(),a(g,{to:"#dialog-target"},[n(y,{modelValue:e.createDialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.createDialog=t),"render-target":"#dialog-target"},{title:o((()=>[Z])),actions:o((()=>[ee,n("button",{disabled:!e.queueName,class:"\r\n              bg-blue-700\r\n              font-bold\r\n              py-2\r\n              px-5\r\n              rounded-lg\r\n              disabled:bg-gray-300\r\n              text-white\r\n            ",onClick:t[2]||(t[2]=(...t)=>e.createQueue&&e.createQueue(...t))}," Create ",8,["disabled"]),te])),default:o((()=>[n("div",null,[x(n("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.queueName=t),placeholder:"Queue name",spellcheck:"false",class:"\r\n              rounded\r\n              px-4\r\n              py-3\r\n              focus:outline-none\r\n              bg-gray-200\r\n              w-full\r\n              font-semibold\r\n              text-sm\r\n            "},null,512),[[b,e.queueName]]),n("div",{class:"mt-1 mb-3 text-sm opacity-60 font-medium",style:{opacity:e.queueName!==e.slug?void 0:0}},[le,n("b",null,r(e.slug),1)],4),x(n("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.queuePersistent=t)},null,512),[[v,e.queuePersistent]]),se])])),_:1},8,["modelValue"])]))])};var ae=e({name:"QueueDetails",setup:()=>({id:ne.currentRoute.value.params.id,stat:t(null)})});ae.render=function(e,t,l,s,o,u){return d(),a("div",null,[n("div",null,r(e.id),1),n("div",null,r(JSON.stringify(e.stat)),1)])};const ne=y({history:w(),routes:[{path:"/",name:"Home",component:O},{path:"/queues",name:"Queues",component:S},{path:"/queue/:id",name:"Queue",component:ae}]});var oe=e({name:"CDialog",props:{modelValue:{type:Boolean,required:!0}},setup:(e,{emit:t})=>({toggle:function(e){t("update:modelValue",e)}})});const re={key:0,class:"fixed w-full h-full"},ue={class:"w-full h-full flex justify-center content-center relative"},ie={class:"absolute w-full h-full",style:{"pointer-events":"none"}},de={class:"w-full h-full flex justify-center items-center"},ce={class:"p-4 bg-white rounded shadow-lg flex flex-col",style:{"min-width":"400px","min-height":"250px","pointer-events":"auto"}},pe={class:"text-lg font-bold mb-4"},me=n("div",{style:{"flex-grow":"1"}},null,-1),fe={class:"flex"};oe.render=function(e,t,l,s,r,u){return d(),a(q,{name:"fade"},{default:o((()=>[e.modelValue?(d(),a("div",re,[n("div",ue,[n("div",{class:"absolute w-full h-full",style:{background:"#00000077","backdrop-filter":"blur(1px)"},onClick:t[1]||(t[1]=t=>e.toggle(!1))}),n("div",ie,[n("div",de,[n("div",ce,[n("div",pe,[h(e.$slots,"title")]),n("div",null,[h(e.$slots,"default")]),me,n("div",fe,[h(e.$slots,"actions")])])])])])])):k("",!0)])),_:3})};const ge=_(C);ge.use(ne),ge.component("CDialog",oe),ge.mount("#app");
